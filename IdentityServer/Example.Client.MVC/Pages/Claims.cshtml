@page
@using Microsoft.AspNetCore.Authentication
@model ClaimsModel
<h1>Hello, world!</h1>
<h2>The time on the server is @DateTime.Now</h2>

<h3>ID Token</h3>
<pre>@HttpContext.GetTokenAsync("id_token").Result</pre>

<h3>Access Token</h3>
<pre>@HttpContext.GetTokenAsync("access_token").Result</pre>

<h3>Refresh Token</h3>
<pre>@HttpContext.GetTokenAsync("refresh_token").Result</pre>

<h3>Claims</h3>
<dl>
  @foreach (var claim in User.Claims)
  {
    <dt>@claim.Type</dt>
    <dd>@claim.Value</dd>
  }
</dl>

<h3>API</h3>
<pre>@Model.CallApi().Result</pre>

<a href="logout">Logout</a>